<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8"/>
		<meta name="author" content="Jake Pryce-Jones"/>
		<meta name="description" content="Over The Top Airsoft Adventures Anglesey (OTT Airsoft) Official Website"/>
		<meta name="Geo.name" content="GB"/>
		<meta name="Geo.placename" content="anglesey"/>
		<meta name="Geo.position" content="53.3372126;-4.3013755" />
		<meta name="keywords" content="adventure,adventures,airsoft,airsoft club,anglesey,club,free parking,north wales,official website,ott,over the top,parking,registered,skirmish,uk,ukara,ukara registered,united kingdom,wales"/>
		<meta name="Subject" content="Over The Top Airsoft Adventures Anglesey (OTT Airsoft) Official Website"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<link href="css/class.css" type="text/css" rel="stylesheet"/>
		<link href="css/keyframe.css" type="text/css" rel="stylesheet"/>
		<link href="css/element.css" type="text/css" rel="stylesheet"/>
		<link rel="icon" href="img/logo.jpg">

		<title>OTT Airsoft Adventures</title>
	</head>

	<body>
		<div class="banner">
			<h1>OTT Airsoft Adventures</h1>
      <a href="index.html" class="bannerButton">About Us</a>
			<a href="contact.html" class="bannerButton">Contact Us</a>
			<a href="map.html" class="bannerButton">Find Us</a>
			<a href="gallery.html" class="bannerButton">Gallery</a>
			<a href="dates.html" class="bannerButton">Operations</a>
		</div>

		<div class="content_box">
			<h2>Image Gallery</h2>
			<div style="a">
				<div id="gallery"/>
			</div>
		</div>

		<div class="banner">
			<a href="index.html" class="bannerButton">About Us</a>
			<a href="contact.html" class="bannerButton">Contact Us</a>
			<a href="map.html" class="bannerButton">Find Us</a>
			<a href="gallery.html" class="bannerButton">Gallery</a>
			<a href="dates.html" class="bannerButton">Operations</a>
			<br/>
			<p class="banner">&copy; Copyright Over The Top Airsoft Adventures Anglesey 2018.</p>
		</div>

		<script>
			//Returns a pseudorandom integer such that 0 < n < ceiling
			function randInt(ceiling) {
				return Math.ceil(Math.random() * 1000000) % ceiling
			}

			//Load images and thumbnails into array
			var numImages = 30;
			var imageJSON = "[";
			for (i = 0; i < numImages; i++) {
				imageJSON += "{\"image\":\"img/image" + i + ".jpg\", \"thumbnail\":\"img/thumbnail" + i + ".jpg\"}";
				if (i != numImages - 1) {
					imageJSON += ",";
				}
			}
			imageJSON += "]";
			var image = JSON.parse(imageJSON);

			//Calculate how many rows there should be
			var noRows = Math.floor(numImages / 3);
			if (numImages % 3 != 0) {
				noRows++;
			}

			//Pseudorandomly permute image array
			for (i = 0; i < numImages; i++) {
				var randomIndex = randInt(numImages);
				var swap = image[i];
				image[i] = image[randomIndex];
				image[randomIndex] = swap;
			}

			//Put images into table
			var text = '<table>';
			for (i = 0; i < noRows; i++) {
				for (j = 0; j < 3; j++) {
					if (3 * i + j >= numImages) {
						break;
					} else {
						text += '<td><table><tr><td width="30%"><a href="';
						text += image[3 * i + j].image;
						text += '"><image class="galleryImage" src="';
						text += image[3 * i + j].thumbnail;
						text += '"/></a></td></tr></table></td>';
					}
				}
				text += '</tr>';
			}
			text += '</table>';
			document.getElementById('gallery').innerHTML = text;
		</script>
	</body>
</html>
